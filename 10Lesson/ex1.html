<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Лаба10Каргин</title>
</head>
<body onload="init()">
    <label>Радиус<input type="number" id="radius" value="100" min="10" max="1000" oninput="drawPolygon()"></label><br>
    <label>Углы<input type="number" id="sides" value="5" min="3" max="100" oninput="drawPolygon()"></label><br>
    <label>Толщина<input type="number" id="lineWidth" value="2" min="1" oninput="drawPolygon()"></label><br>
    <label>Цвет контура<input type="color" id="strokeColor" value="#000000" oninput="drawPolygon()"></label><br>
    <label>Цвет заливки<input type="color" id="fillColor" value="#ff0000" oninput="drawPolygon()"></label><br>
    <label>Требуется заливка<input type="checkbox" id="fillEnabled" oninput="drawPolygon()"></label><br>
    <label>a (масштаб X)<input type="number" id="transform_a" value="1" step="0.1" oninput="drawPolygon()"></label><br>
    <label>b (наклон Y)<input type="number" id="transform_b" value="0" step="0.1" oninput="drawPolygon()"></label><br>
    <label>c (наклон X)<input type="number" id="transform_c" value="0" step="0.1" oninput="drawPolygon()"></label><br>
    <label>d (масштаб Y)<input type="number" id="transform_d" value="1" step="0.1" oninput="drawPolygon()"></label><br>
    <label>dx (сдвиг X)<input type="number" id="transform_dx" value="0" oninput="drawPolygon()"></label><br>
    <label>dy (сдвиг Y)<input type="number" id="transform_dy" value="0" oninput="drawPolygon()"></label><br>
    <canvas id="canvas" width="500" height="500"></canvas>

    <script>
        var canvas;
        var ctx;

        function init() 
        {
            canvas = document.getElementById('canvas');
            ctx = canvas.getContext('2d');
            drawPolygon();
        }

        function drawPolygon() 
        {
            var radius = document.getElementById('radius').value;
            var sides = document.getElementById('sides').value;
            var lineWidth = document.getElementById('lineWidth').value;
            var strokeColor = document.getElementById('strokeColor').value;
            var fillColor = document.getElementById('fillColor').value;
            var fillEnabled = document.getElementById('fillEnabled').checked;
            var a = document.getElementById('transform_a').value;
            var b = document.getElementById('transform_b').value;
            var c = document.getElementById('transform_c').value;
            var d = document.getElementById('transform_d').value;
            var dx = document.getElementById('transform_dx').value;
            var dy = document.getElementById('transform_dy').value;
            sides = Math.min(Math.max(3, sides), 100);

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.save();
            ctx.setTransform(a, b, c, d, dx, dy);
            ctx.translate(canvas.width / 2, canvas.height / 2);

            ctx.beginPath();
            for (let i = 0; i < sides; i++) 
            {
                const angle = (i * 2 * Math.PI / sides) - Math.PI / 2;
                const x = radius * Math.cos(angle);
                const y = radius * Math.sin(angle);
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.closePath();

            if (fillEnabled) 
            {
                ctx.fillStyle = fillColor;
                ctx.fill();
            }

            ctx.lineWidth = lineWidth;
            ctx.strokeStyle = strokeColor;
            ctx.stroke();
            ctx.restore();
        }
    </script>
</body>
</html>